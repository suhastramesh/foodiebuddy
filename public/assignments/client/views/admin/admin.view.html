<h1 class="page-header">Admin</h1>
<h2>Users</h2>
<table class="table table-bordered table-striped">
    <thead>
    <tr>
        <td>
            <a ng-click="model.sortType = 'username'; model.sortReverse = !model.sortReverse">
                Username
                <span ng-show="model.sortType == 'username' && !model.sortReverse" class="fa fa-caret-down"></span>
                <span ng-show="model.sortType == 'username' && model.sortReverse" class="fa fa-caret-up"></span>
            </a>
        </td>
        <td>
            <a ng-click="model.sortType = 'password'; model.sortReverse = !model.sortReverse">
                Password
                <span ng-show="model.sortType == 'password' && !model.sortReverse" class="fa fa-caret-down"></span>
                <span ng-show="model.sortType == 'password' && model.sortReverse" class="fa fa-caret-up"></span>
            </a>
        </td>
        <td>
            <a ng-click="model.sortType = 'roles'; model.sortReverse = !model.sortReverse">
                Roles
                <span ng-show="model.sortType == 'roles' && !model.sortReverse" class="fa fa-caret-down"></span>
                <span ng-show="model.sortType == 'roles' && model.sortReverse" class="fa fa-caret-up"></span>
            </a>
        </td>
        <td>Action</td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td><input ng-model="model.edit.username" class="form-control" type="text" width="50" placeholder="Username" ></td>
        <td><input ng-model="model.edit.password" class="form-control" type="text" width="50" placeholder="Password" ></td>
        <td><input ng-model="model.edit.roles" type="text" width="50" class="form-control" placeholder="Role1, Role2" ></td>
        <td align="center" valign="middle">
            <a ng-click="model.addUser(model.edit)"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></a>
            <a ng-click="model.updateUser(model.edit)"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></a>
        </td>
    </tr>
    <tr ng-repeat="person in model.allUsers | orderBy:model.sortType:model.sortReverse">

        <td>{{ person.username }}</td>
        <td>{{ person.password }}</td>
        <td>{{ person.roles.join(", ")}}</td>
        <td align="center" valign="middle">
            <a ng-click="model.removeUser(person._id)"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></a>
            <a ng-click="model.editUser(person)" ><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a>
        </td>
    </tr>
    </tbody>

</table>
