<h1 class="page-header">Admin</h1>
<h2>Users</h2>
<table class="table table-bordered table-striped">
    <thead>
    <tr>
        <td>
            <a ng-click="sortType = 'username'; sortReverse = !sortReverse">
                Username
                <span ng-show="sortType == 'username' && !sortReverse" class="fa fa-caret-down"></span>
                <span ng-show="sortType == 'username' && sortReverse" class="fa fa-caret-up"></span>
            </a>
        </td>
        <td>
            <a ng-click="sortType = 'password'; sortReverse = !sortReverse">
                Password
                <span ng-show="sortType == 'password' && !sortReverse" class="fa fa-caret-down"></span>
                <span ng-show="sortType == 'password' && sortReverse" class="fa fa-caret-up"></span>
            </a>
        </td>
        <td>
            <a ng-click="sortType = 'roles'; sortReverse = !sortReverse">
                Roles
                <span ng-show="sortType == 'roles' && !sortReverse" class="fa fa-caret-down"></span>
                <span ng-show="sortType == 'roles' && sortReverse" class="fa fa-caret-up"></span>
            </a>
        </td>
        <td>Action</td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td><input ng-model="edit.username" type="text" width="50" placeholder="username" ></td>
        <td><input ng-model="edit.password" type="text" width="50" placeholder="password" ></td>
        <td><input ng-model="edit.roles" type="text" width="50" placeholder="role1, role2" ></td>
        <td>
            <a ng-click="addUser(edit); reloadUsers()"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></a>
            <a ng-click="updateUser(edit); reloadUsers()"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></a>
        </td>
    </tr>
    <tr ng-repeat="person in allUsers | orderBy:sortType:sortReverse">

        <td>{{ person.username }}</td>
        <td>{{ person.password }}</td>
        <td>{{ person.roles.join(", ")}}</td>
        <td>
            <a ng-click="removeUser(person._id); reloadUsers()"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></a>
            <a ng-click="editUser(person)" ><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a>
        </td>
    </tr>
    </tbody>

</table>
